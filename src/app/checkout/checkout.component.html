<h3>CHECKOUT</h3>
<section>
  <ul>
    @for(cartItem of (cart$ | async); track cartItem.id){
    <li>
      <p>
        {{ cartItem.cartAmount }} X {{ cartItem.title }} |
        {{ cartItem.price | currency : "BRL" }}
      </p>
    </li>
    }
  </ul>
  <hr />
  <p>TOTAL = {{ cartTotal$ | async | currency : "BRL" }}</p>
</section>

<form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
  <h4>Client info</h4>
  <div class="info">
    <mat-form-field appearance="outline">
      <mat-label>First name</mat-label>
      <input
        matInput
        placeholder="Your first name"
        formControlName="firstName"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Last name</mat-label>
      <input matInput placeholder="Your last name" formControlName="lastName" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput placeholder="Valid email here" formControlName="email" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Phone number</mat-label>
      <input
        matInput
        placeholder="Phone number with DDD"
        formControlName="phone"
      />
    </mat-form-field>
  </div>

  <h4>Address</h4>
  <div formGroupName="address" class="address">
    <mat-form-field appearance="outline">
      <mat-label>Zip Code</mat-label>
      <input
        matInput
        placeholder="Zip code"
        formControlName="zip"
        maxlength="8"
      />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Street</mat-label>
      <input matInput placeholder="Street" formControlName="street" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>City</mat-label>
      <input matInput placeholder="City" formControlName="city" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>State</mat-label>
      <input matInput placeholder="State" formControlName="state" />
    </mat-form-field>
  </div>
  <button mat-button type="submit" [disabled]="!checkoutForm.valid">
    PLACE ORDER
  </button>
</form>
